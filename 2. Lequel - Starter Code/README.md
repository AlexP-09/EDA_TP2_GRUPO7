# EDA #level2: Lequel?

## Integrantes del grupo y contribución al trabajo de cada integrante

* [Nombre]: [contribución]

Yaggi, Lucca: desarrollo conjunto de las funciones de detección de idioma y pruebas.

Petersen, Alex: desarrollo conjunto de las funciones de detección de idioma y pruebas.

## Respuestas del enunciado

1. ¿En qué idioma está el siguiente texto?

історія земель сучасної України, українського народу та інших національностей, що проживають на території України, від доісторичних часів до сьогодення.

Ucraniano

2. ¿En qué idioma está el siguiente texto?

아리랑, 아리랑, 아라리요... 아리랑 고개로 넘어간다. 나를 버리고 가시는 님은 십리도 못가서 발병난다. 청천하늘엔 잔별도 많고, 우리네 가슴엔 희망도 많다. 저기 저 산이 백두산이라지, 동지 섣달에도 꽃만 핀다.

Coreano

3. ¿En qué idioma está el siguiente texto?

၁၉၄၀ ခုနှစ်တွင် ဗိုလ်ချုပ်အောင်ဆန်းဦးဆောင်သည့် ရဲဘော်သုံးကျိပ်အဖွဲ့ဝင်တို့သည် ဗမာ့လွတ်မြောက်ရေးတပ်မတော် (ဘီအိုင်အေ) ကို တည်ထောင်ခဲ့ကြသည်။[၂၀][၂၀] ရဲဘော်သုံးကျိပ်သည် ဂျပန်နိုင်ငံတွင် စစ်သင်တန်းများတက်ရောက်ခဲ့ကြသည်။[၂၀]

Birmano 

4. ¿En qué idioma está el siguiente texto?

Negema wangu binti, mchachefu wa sanati upulike wasiati asa ukanzingatia. Maradhi yamenshika hatta yametimu mwaka sikupata kutamka neno lema kukwambia. Ndoo mbee ujilisi na wino na qaratasi moyoni nina hadithi nimependa kukwambia.

Suajili

5. ¿En qué idioma está el siguiente texto?

Այժմ նա յուր կինտոյի արհեստով ժառանգած Ճանճուր մականունը կցելով յուր հոր՝ Օհանեսի անվան հետ, կոչվում է «Թիֆլիսի պատվավոր քաղաքացի Ճանճուր Իվանիչ»։ Այդ անունով ևս մենք պարտավորվում ենք նրան ծանոթացնել մեր ընթերցողներին։

Armenio

6. ¿En qué idioma está el siguiente texto?

Belirli bir bölgedeki mevcut hava durumu hava raporu, gelecekte beklenen durumlar ise hava tahmini şeklinde, ilgili meteoroloji otoriteleri tarafından yayımlanır.

Turco 

7. ¿En qué idioma está el siguiente texto?

ᎤᎵᏍᏔᏴᏗ ᎦᎵᏙᏗ ᏭᎷᏤᎢ, ᎤᏗᏔᎮ ᎦᏁᎲ, ᎤᏲᏏᏍᎩ ᎤᏗᏔᎮ ᎤᏅᏗ ᏃᎴ ᎤᎩᏍᏙᎡ ᏑᎾᎴ ᎠᎩᏍᏗ ᎤᏂᏑᎸᏓ. ᎣᏍᏓ ᏄᎵᏍᏔᏁᎮ ᎤᏩᏌ ᎤᏪᏅᏒ ᎡᏙᎲ. ᎦᏅᏆᎶᏍᏗ ᏭᏴᎮ ᏣᏄᏏ ᏃᎴ ᏣᏁᎳ ᎠᏂᏎᏂᏏ ᏴᎩ, ᎣᏍᏓ ᏄᏩᏁᎴ ᎠᏦᏴ.

Cheroquí

8. ¿En qué idioma está el siguiente texto?

ُیعتقد بأن ضابطة في الجیش البریطاني تدعى بریت تشاندي أصبحت أولامرأة من أصول آسیویة ُتكملُ رحلة استكشافیة فردیة عبر .القارة القطبیة الجنوبی  

Árabe

9. ¿En qué idioma está el siguiente texto?

ગુજરાતી સંસ્કૃત ભાષામાંથી વિકસિત થયેલી આધુનિક ઈન્ડો-આર્યન ભાષા છે. પરંપરાગત રીતે ૩ ઐતિહાસિક તબક્કાઓ પ્રમાણે ઈન્ડો-આર્યન ભાષાઓ વચ્ચે ભેદ કરાય છે.

Guyaretí

10. ¿En qué idioma está el siguiente texto?

Al Seicento appartiene il primo trattato dedicato non ai volgari italiani o a uno o più di tali volgari, ma alla lingua italiana in quanto tale: Delle osservazioni della lingua italiana di Marcantonio Mambelli, detto il Cinonio.

Italiano

11. El siguiente texto fue escrito por Robert Burns en escocés. ¿Qué dice Lequel? ¿Qué falla? Justifica por qué ocurre lo que ocurre.

And there's a hand, my trusty fiere! and gie's a hand o' thine! And we’ll tak' a right gude-willie waught, for auld lang syne.

El programa detecta idioma inglés en vez de escocés. Esto ocurre debido a que el escocés y
el inglés tienen un perfil de trigramas similar y el texto es relativamente corto, por lo 
que no hay suficientes datos para diferenciar entre ambos idiomas.

12. El siguiente texto está en inglés. ¿Qué dice Lequel? ¿Qué falla? Justifica por qué ocurre lo que ocurre.

IT WAS THE BEST OF TIMES, IT WAS THE WORST OF TIMES,
IT WAS THE AGE OF WISDOM, IT WAS THE AGE OF FOOLISHNESS,
IT WAS THE EPOCH OF BELIEF, IT WAS THE EPOCH OF INCREDULITY,
IT WAS THE SEASON OF LIGHT, IT WAS THE SEASON OF DARKNESS,
IT WAS THE SPRING OF HOPE, IT WAS THE WINTER OF DESPAIR,
WE HAD EVERYTHING BEFORE US, WE HAD NOTHING BEFORE US,
WE WERE ALL GOING DIRECT TO HEAVEN, WE WERE ALL GOING DIRECT THE OTHER WAY
– IN SHORT, THE PERIOD WAS SO FAR LIKE THE PRESENT PERIOD, THAT SOME OF ITS NOISIEST AUTHORITIES INSISTED ON ITS BEING RECEIVED, FOR GOOD OR FOR EVIL, IN THE SUPERLATIVE DEGREE OF COMPARISON ONLY.

El programa inicialmente detecta idioma Afrikaans en vez de inglés. Esto puede deberse principalmente
a que el texto está en mayúsculas, lo que afecta la frecuencia de aparición de ciertos trigramas 
y puede hacer que el perfil del texto se asemeje más al del Afrikaans.

Luego de los cambios realizados en relación a las mayúsculas y minúsculas, el programa detecta correctamente
el idioma inglés.

## Bonus points

Mejoras de rendimiento y precisión:

- Se utilizó la librería "unordered_map" en lugar de "map" para almacenar los perfiles de trigramas.
  Esto mejora el rendimiento de las búsquedas, ya que "unordered_map" tiene una complejidad promedio
  de O(1) para búsquedas, mientras que "map" tiene una complejidad de O(log n).

- Se limitó la cantidad de trigramas por perfil a 10000 para evitar un consumo excesivo de memoria
  y mejorar la velocidad de comparación. A partir de esta cifra, los perfiles de trigramas no suelen
  variar significativamente, por lo que no afecta la precisión de la detección de idioma.

- Se optimizó la función "getCosineSimilarity" para que busque cada trigrama con "find" en lugar de 
  recorrer todo el perfil del trigrama de cada idioma buscando coincidencias. Si no encuentra el 
  trigrama, continúa con el siguiente trigrama del texto automáticamente. La complejidad computacional 
  de la función "getCosineSimilarity" pasó de ser O(n*m) a O(n), donde n es la cantidad de trigramas 
  en el texto y m es la cantidad de trigramas en el perfil del idioma.

- Se cambiaron todos los trigramas a minúsculas para evitar errores de detección por mayúsculas. Esto
  mejora la precisión de la detección de idioma, ya que los trigramas en mayúsculas pueden no coincidir
  con los perfiles de trigramas en minúsculas. Sin embargo, esto implicó cambiar los perfiles de 
  trigramas de todos los idiomas a minúsculas también. Este cambio se realiza en la función "loadLanguagesData" 
  cada vez que se ejecuta el programa, sumando las frecuencias de los trigramas en minúsculas y mayúsculas.

 
Conclusión de mejoras de rendimiento:

Estos cambios mejoraron significativamente el rendimiento del programa, reduciendo drasticamente el 
tiempo de detección de idiomas, especialmente en textos largos. Al probar con textos largos, el tiempo
de detección se redujo de varios segundos a menos de un segundo en la mayoría de los casos. 

Funciones extra

- Se pueden agregar idiomas con un archivo de texto con el nombre del idioma. El programa toma el nombre del 
  archivo como el nombre del idioma y genera el perfil de trigramas automáticamente, tomando el primer trigrama
  como el tag del idioma para el archivo CSV. Esto se realiza con la función "addCustomLanguage".

Observaciones adicionales:

- Al agregarle C++ como lenguaje a la base de datos de trigramas con un código largo, el programa logra 
  detectar correctamente fragmentos de código en C++. Sin embargo, puede confundir el idioma inglés con C++
  debido a la similitud en la sintaxis del lenguaje de programación. Por ejemplo, el texto número 12 que antes
  detectaba correctamente como inglés, ahora lo detecta como C++, por lo que retiramos el idioma C++ de los datos.